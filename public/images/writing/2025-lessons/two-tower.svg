<svg width="960" height="540" viewBox="0 0 960 540" xmlns="http://www.w3.org/2000/svg">
    <defs>
        <linearGradient id="bg2" x1="0%" x2="0%" y1="0%" y2="100%">
            <stop offset="0%" stop-color="#050608"/>
            <stop offset="100%" stop-color="#111525"/>
        </linearGradient>
        <style><![CDATA[
            text{font-family:'Space Mono','Menlo',monospace;fill:#e6f3ff;font-size:15px}
            .label{font-size:13px;fill:#9ab7da;text-transform:uppercase;letter-spacing:2px}
            .muted{fill:#7d94b8;font-size:12px}
        ]]></style>
    </defs>
    <rect width="960" height="540" rx="28" fill="url(#bg2)"/>

    <text class="label" x="480" y="48" text-anchor="middle">Gemini sketch · Phoenix Retrieval (Two-Tower)</text>

    <!-- User tower -->
    <g transform="translate(120,120)">
        <rect width="240" height="260" rx="24" fill="#0b1c2d" stroke="#7dd3fc" stroke-width="1.5"/>
        <text x="120" y="44" text-anchor="middle">User Tower</text>
        <text class="muted" x="120" y="74" text-anchor="middle">Recent actions / traits</text>
        <line x1="60" x2="180" y1="110" y2="110" stroke="#203a53" stroke-width="2" stroke-dasharray="4 4"/>
        <text class="muted" x="120" y="136" text-anchor="middle">Likes · Reposts · Dwell</text>
        <rect x="40" y="160" width="160" height="60" rx="14" fill="#102b44" stroke="#5dc0ff"/>
        <text x="120" y="196" text-anchor="middle">Feature tensor</text>
        <rect x="70" y="240" width="100" height="40" rx="12" fill="#63f5c1"/>
        <text fill="#041017" x="120" y="266" text-anchor="middle">User Embedding</text>
    </g>

    <!-- helper tower -->
    <g transform="translate(600,120)">
        <rect width="240" height="260" rx="24" fill="#160b24" stroke="#fda7ff" stroke-width="1.5"/>
        <text x="120" y="44" text-anchor="middle">Content Tower</text>
        <text class="muted" x="120" y="74" text-anchor="middle">Tweet text · media · author</text>
        <line x1="60" x2="180" y1="110" y2="110" stroke="#382248" stroke-width="2" stroke-dasharray="4 4"/>
        <text class="muted" x="120" y="136" text-anchor="middle">LLM summaries</text>
        <rect x="40" y="160" width="160" height="60" rx="14" fill="#321547" stroke="#ff7dcb"/>
        <text x="120" y="196" text-anchor="middle">Semantic vector</text>
        <rect x="70" y="240" width="100" height="40" rx="12" fill="#f9d66d"/>
        <text fill="#3b2901" x="120" y="266" text-anchor="middle">Post Embedding</text>
    </g>

    <!-- dot product -->
    <circle cx="480" cy="250" r="60" fill="#05090f" stroke="#88f0ff" stroke-width="2"/>
    <text x="480" y="244" text-anchor="middle">Dot</text>
    <text x="480" y="270" text-anchor="middle">Product</text>
    <text class="muted" x="480" y="306" text-anchor="middle">Similarity score</text>

    <!-- flows -->
    <path d="M360 250H420" stroke="#7dd3fc" stroke-width="4" marker-end="url(#arrow2)"/>
    <path d="M540 250H600" stroke="#fda7ff" stroke-width="4" marker-end="url(#arrow2)"/>

    <!-- ranking context -->
    <g transform="translate(360,360)">
        <rect width="240" height="90" rx="18" fill="#09121d" stroke="#66f7c1"/>
        <text x="120" y="42" text-anchor="middle">Top-K candidates</text>
        <text class="muted" x="120" y="70" text-anchor="middle">Feed scorer consumes this set</text>
    </g>

    <defs>
        <marker id="arrow2" markerWidth="12" markerHeight="12" refX="6" refY="6" orient="auto">
            <path d="M0 0 L12 6 L0 12 z" fill="#e2f9ff"/>
        </marker>
    </defs>
</svg>
