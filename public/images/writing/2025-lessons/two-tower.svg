<svg width="960" height="480" viewBox="0 0 960 480" xmlns="http://www.w3.org/2000/svg">
    <defs>
        <style><![CDATA[
            text{font-family:'Inter','SF Pro Display',-apple-system,sans-serif;fill:#e5e5e5;font-size:14px}
            .title{font-size:13px;font-weight:500}
            .muted{fill:#737373;font-size:11px}
            .box{fill:none;stroke:#404040;stroke-width:1}
        ]]></style>
    </defs>
    <rect width="960" height="480" fill="#0a0a0a"/>

    <!-- User tower -->
    <g transform="translate(120,80)">
        <rect class="box" width="200" height="220" rx="8"/>
        <text class="title" x="100" y="36" text-anchor="middle">User Tower</text>
        <text class="muted" x="100" y="60" text-anchor="middle">Recent actions / traits</text>
        <line x1="40" x2="160" y1="90" y2="90" stroke="#262626" stroke-width="1"/>
        <text class="muted" x="100" y="116" text-anchor="middle">Likes 路 Reposts 路 Dwell</text>
        <rect x="30" y="135" width="140" height="36" rx="4" fill="#171717" stroke="#404040"/>
        <text x="100" y="159" text-anchor="middle" font-size="12">Feature tensor</text>
        <rect x="40" y="185" width="120" height="28" rx="4" fill="#22c55e"/>
        <text fill="#052e16" x="100" y="204" text-anchor="middle" font-size="11" font-weight="500">User Embedding</text>
    </g>

    <!-- Content tower -->
    <g transform="translate(640,80)">
        <rect class="box" width="200" height="220" rx="8"/>
        <text class="title" x="100" y="36" text-anchor="middle">Content Tower</text>
        <text class="muted" x="100" y="60" text-anchor="middle">Tweet text 路 media 路 author</text>
        <line x1="40" x2="160" y1="90" y2="90" stroke="#262626" stroke-width="1"/>
        <text class="muted" x="100" y="116" text-anchor="middle">LLM summaries</text>
        <rect x="30" y="135" width="140" height="36" rx="4" fill="#171717" stroke="#404040"/>
        <text x="100" y="159" text-anchor="middle" font-size="12">Semantic vector</text>
        <rect x="40" y="185" width="120" height="28" rx="4" fill="#fbbf24"/>
        <text fill="#422006" x="100" y="204" text-anchor="middle" font-size="11" font-weight="500">Post Embedding</text>
    </g>

    <!-- Dot product -->
    <circle cx="480" cy="190" r="50" fill="#171717" stroke="#404040" stroke-width="1"/>
    <text x="480" y="185" text-anchor="middle" font-size="13">Dot</text>
    <text x="480" y="205" text-anchor="middle" font-size="13">Product</text>
    <text class="muted" x="480" y="260" text-anchor="middle">Similarity score</text>

    <!-- Arrows -->
    <path d="M320 190H430" stroke="#525252" stroke-width="1.5" marker-end="url(#arrow)"/>
    <path d="M530 190H640" stroke="#525252" stroke-width="1.5" marker-end="url(#arrow)"/>

    <!-- Top-K candidates -->
    <g transform="translate(360,330)">
        <rect class="box" width="240" height="70" rx="8"/>
        <text class="title" x="120" y="32" text-anchor="middle">Top-K candidates</text>
        <text class="muted" x="120" y="52" text-anchor="middle">Feed scorer consumes this set</text>
    </g>

    <defs>
        <marker id="arrow" markerWidth="8" markerHeight="8" refX="4" refY="4" orient="auto">
            <path d="M0 0 L8 4 L0 8 z" fill="#737373"/>
        </marker>
    </defs>
</svg>
